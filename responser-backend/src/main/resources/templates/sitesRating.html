<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="en"
      th:replace="~{layouts/pageMainLayout :: main-fragment(
          'Sites rating',
          ~{:: #headContent},
          ~{:: #mainContent},
          'Sites rating',
          'sites-rating-page',
           null
      )}">
<head>
    <title></title>
    <th:block id="headContent">
        <link th:href="@{/css/sitesRating.css}" rel="stylesheet"/>
    </th:block>
</head>
<body>

<th:block id="mainContent">

    <form method="get" th:action="${'/web-resources/sites-rating'}">
        <input hidden="hidden" name="page" th:value="${currentPageNumber}"/>

        <div class="field-container search">
            <div class="field">
                <input name="searchUrl" placeholder="Find site by URL" th:value="${searchUrl}"/>
                <button type="submit" class="button secondary"><div class="icon search-icon"></div></button>
            </div>
<!--            <span class="message">asasasasasas</span>-->
        </div>
    </form>

    <th:block th:replace="~{components/pages-navigator::pages-navigator-component(
            ${'/web-resources/sites-rating?' + (searchUrl != null ? ('searchUrl=' + searchUrl + '&') : '') + 'page='},
            ${currentPageNumber},
            ${pagesCount},
            null
       )}"/>

    <div class="sites-list">
        <th:block th:each="site, loopState: ${sites}">
            <th:block th:replace="~{components/site-card::site-card-component(${site}, 'site-' + ${loopState.index})}"/>
        </th:block>
    </div>

    <th:block th:replace="~{components/pages-navigator::pages-navigator-component(
            ${'/web-resources/sites-rating?' + (searchUrl != null ? ('searchUrl=' + searchUrl + '&') : '') + 'page='},
            ${currentPageNumber},
            ${pagesCount},
            null
       )}"/>
</th:block>

</body>
</html>